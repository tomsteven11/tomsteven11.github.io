(this["webpackJsonpreact-travel"]=this["webpackJsonpreact-travel"]||[]).push([[0],{128:function(e,t,n){e.exports={"intro-container":"ProductIntro_intro-container__QH2fQ","intro-detail-content":"ProductIntro_intro-detail-content__1PSaz","intro-detail-strong-text":"ProductIntro_intro-detail-strong-text__2Kszo"}},187:function(e,t,n){e.exports={content:"ProductCollection_content__24wv7","side-image":"ProductCollection_side-image__2qQ9t"}},189:function(e,t,n){e.exports={"filter-divider":"FilterArea_filter-divider__1VKcE"}},190:function(e,t,n){e.exports={"page-content":"SearchPage_page-content__2gQ3P","product-list-container":"SearchPage_product-list-container__1qpIR"}},191:function(e,t,n){e.exports={"product-list-container":"ShoppingCart_product-list-container__1cAcP","payment-card-container":"ShoppingCart_payment-card-container__3phY1"}},211:function(e,t,n){e.exports={App:"App_App__16ZpL"}},219:function(e,t,n){e.exports={"side-menu":"SideMenu_side-menu__qusO9"}},220:function(e,t,n){e.exports={slider:"Carousel_slider__2aVPa"}},221:function(e,t,n){},225:function(e,t,n){e.exports={"payment-form":"PaymentForm_payment-form__1rKlp"}},226:function(e,t,n){e.exports={"page-content":"MainLayout_page-content__MRoWs"}},228:function(e,t,n){e.exports={"register-form":"RegisterForm_register-form__1fZ5c"}},229:function(e,t,n){e.exports={"register-form":"SignInForm_register-form__12s7z"}},231:function(e){e.exports=JSON.parse('{"header":{"placeholder":"please input travel destination,theme or keywords","slogan":"Make travel happier","add_new_language":"add new language","title":"React Travel","register":"Register","signin":"Sign In","home_page":"Home","weekend":"Weekend","group":"Group","backpack":"Backpack","private":"Private","cruise":"Cruise","hotel":"Hotel & Attractions","local":"Local","theme":"Theme","custom":"Custom","study":"Study","visa":"Visa","enterprise":"Enterprise","high_end":"High-end","outdoor":"Outdoor","insurance":"Insurance","shoppingCart":"Shopping Cart","signOut":"Sign Out","welcome":"Welcome back "},"footer":{"detail":"All rights reserved @ ReactTravel.com"},"home_page":{"hot_recommended":"Hot Recommended","new_arrival":"New arrival","domestic_travel":"Domestic travel","joint_venture":"Joint Venture","start_from":"(start from)"}}')},232:function(e){e.exports=JSON.parse('{"header":{"placeholder":"\u8bf7\u8f93\u5165\u65c5\u6e38\u76ee\u7684\u5730\u3001\u4e3b\u9898\u3001\u6216\u5173\u952e\u5b57","slogan":"\u8ba9\u65c5\u884c\u66f4\u5e78\u798f","add_new_language":"\u6dfb\u52a0\u65b0\u8bed\u8a00","title":"React \u65c5\u6e38\u7f51","register":"\u6ce8\u518c","signin":"\u767b\u9646","home_page":"\u65c5\u6e38\u9996\u9875","weekend":"\u5468\u672b\u6e38","group":"\u8ddf\u56e2\u6e38","backpack":"\u81ea\u7531\u884c","private":"\u79c1\u5bb6\u56e2","cruise":"\u90ae\u8f6e","hotel":"\u9152\u5e97+\u666f\u70b9","local":"\u5f53\u5730\u73a9\u4e50","theme":"\u4e3b\u9898\u6e38","custom":"\u5b9a\u5236\u6e38","study":"\u6e38\u5b66","visa":"\u7b7e\u8bc1","enterprise":"\u4f01\u4e1a\u6e38","high_end":"\u9ad8\u7aef\u6e38","outdoor":"\u7231\u73a9\u6237\u5916","insurance":"\u4fdd\u9669","shoppingCart":"\u8d2d\u7269\u8f66","signOut":"\u6ce8\u9500","welcome":"\u6b22\u8fce\u56de\u6765 "},"footer":{"detail":"\u7248\u6743\u6240\u6709 @ React \u65c5\u6e38\u7f51"},"home_page":{"hot_recommended":"\u7206\u6b3e\u63a8\u8350","new_arrival":"\u65b0\u54c1\u4e0a\u5e02","domestic_travel":"\u56fd\u5185\u6e38\u63a8\u8350","joint_venture":"\u5408\u4f5c\u4f01\u4e1a","start_from":"(\u8d77)"}}')},251:function(e,t,n){},362:function(e,t,n){"use strict";n.r(t);var r,a,c,i,s,o=n(0),l=n.n(o),d=n(33),u=n.n(d),j=(n(251),n(242)),p=n(211),b=n.n(p),h=n(35),O=n(44),m=n(137),g=n(138),x=n(164),f=n(159),y=n(364),v=n(373),_=n(212),w=n(3),k=function(){var e=Object(_.a)().t;return Object(w.jsx)(y.a.Footer,{children:Object(w.jsx)(v.a.Title,{level:3,style:{textAlign:"center"},children:e("footer.detail")})})},C=n(161),I=n(66),S=n.n(I),P=n.p+"static/media/logo.6ce24c58.svg",T=n(162),N=n(94),R=n(64),z=n(377),L=n(381),M="change_language",D="add_language",F=n(36),A=F.d,H=n(218),E=n(24),U=n(26),V=n.n(U),q=n(40),B=n(39),X=n(41),W=n.n(X),J=Object(B.b)("user/signIn",function(){var e=Object(q.a)(V.a.mark((function e(t,n){var r,a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.a.post("http://123.56.149.216:8080/auth/login",{email:t.email,password:t.password});case 2:return r=e.sent,a=r.data,e.abrupt("return",a.token);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Y=Object(B.c)({name:"user",initialState:{loading:!1,error:null,token:null},reducers:{loginOut:function(e){e.token=null,e.error=null,e.loading=!1}},extraReducers:(r={},Object(E.a)(r,J.pending.type,(function(e){e.loading=!0})),Object(E.a)(r,J.fulfilled.type,(function(e,t){e.token=t.payload,e.loading=!1,e.error=null})),Object(E.a)(r,J.rejected.type,(function(e,t){e.loading=!1,e.error=t.payload})),r)}),Q=function(){var e=Object(h.g)(),t=Object(_.a)().t,n=A((function(e){return e.language.language})),r=A((function(e){return e.language.languageList})),a=A((function(e){return e.shoppingCart.loading})),c=Object(F.c)(),i=A((function(e){return e.user.token})),s=Object(o.useState)(""),l=Object(C.a)(s,2),d=l[0],u=l[1],j=A((function(e){return e.shoppingCart.items}));Object(o.useEffect)((function(){if(i){var e=Object(H.a)(i);u(e.username)}}),[i]);return Object(w.jsxs)("div",{className:S.a["app-header"],children:[Object(w.jsx)("div",{className:S.a["top-header"],children:Object(w.jsxs)("div",{className:S.a.inner,children:[Object(w.jsx)(v.a.Text,{children:t("header.slogan")}),Object(w.jsx)(T.a.Button,{style:{marginLeft:15},overlay:Object(w.jsxs)(N.a,{onClick:function(e){var t;"new"===e.key?c({type:D,payload:{name:"\u65b0\u8bed\u8a00",code:"new_lang"}}):c((t=e.key,{type:M,payload:t}))},children:[r.map((function(e){return Object(w.jsx)(N.a.Item,{children:e.name},e.code)})),Object(w.jsx)(N.a.Item,{children:t("header.add_new_language")},"new")]}),icon:Object(w.jsx)(L.a,{}),children:"zh"===n?"\u4e2d\u6587":"\u82f1\u6587"}),i?Object(w.jsxs)(R.a.Group,{className:S.a["button-group"],children:[Object(w.jsxs)("span",{style:{padding:"0px 10px"},children:[t("header.welcome"),Object(w.jsx)(v.a.Text,{strong:!0,children:d})]}),Object(w.jsxs)(R.a,{loading:a,onClick:function(){return e.push("/shoppingCart")},children:[t("header.shoppingCart"),j.length>0?"(".concat(j.length,")"):null]}),Object(w.jsx)(R.a,{onClick:function(){c(Y.actions.loginOut()),e.push("/")},children:t("header.signOut")})]}):Object(w.jsxs)(R.a.Group,{className:S.a["button-group"],children:[Object(w.jsx)(R.a,{onClick:function(){return e.push("/register")},children:t("header.register")}),Object(w.jsx)(R.a,{onClick:function(){return e.push("/signIn")},children:t("header.signin")})]})]})}),Object(w.jsxs)(y.a.Header,{className:S.a["main-header"],children:[Object(w.jsxs)(O.b,{to:"/",children:[Object(w.jsx)("img",{src:P,alt:"logo",className:S.a["App-logo"]}),Object(w.jsx)(v.a.Title,{level:3,className:S.a.title,children:t("header.title")})]}),Object(w.jsx)(z.a.Search,{placeholder:t("header.placeholder"),className:S.a["search-input"],onSearch:function(t){return e.push("/search/"+t)}})]}),Object(w.jsxs)(N.a,{mode:"horizontal",className:S.a["main-menu"],children:[Object(w.jsx)(N.a.Item,{children:t("header.home_page")},"1"),Object(w.jsx)(N.a.Item,{children:t("header.weekend")},"2"),Object(w.jsx)(N.a.Item,{children:t("header.group")},"3"),Object(w.jsxs)(N.a.Item,{children:[" ",t("header.backpack")," "]},"4"),Object(w.jsxs)(N.a.Item,{children:[" ",t("header.private")," "]},"5"),Object(w.jsxs)(N.a.Item,{children:[" ",t("header.cruise")," "]},"6"),Object(w.jsxs)(N.a.Item,{children:[" ",t("header.hotel")," "]},"7"),Object(w.jsxs)(N.a.Item,{children:[" ",t("header.local")," "]},"8"),Object(w.jsxs)(N.a.Item,{children:[" ",t("header.theme")," "]},"9"),Object(w.jsxs)(N.a.Item,{children:[" ",t("header.custom")," "]},"10"),Object(w.jsxs)(N.a.Item,{children:[" ",t("header.study")," "]},"11"),Object(w.jsxs)(N.a.Item,{children:[" ",t("header.visa")," "]},"12"),Object(w.jsxs)(N.a.Item,{children:[" ",t("header.enterprise")," "]},"13"),Object(w.jsxs)(N.a.Item,{children:[" ",t("header.high_end")," "]},"14"),Object(w.jsxs)(N.a.Item,{children:[" ",t("header.outdoor")," "]},"15"),Object(w.jsxs)(N.a.Item,{children:[" ",t("header.insurance")," "]},"16")]})]})},G=n(219),K=n.n(G),Z=[{title:"\u4e3b\u9898\u65c5\u6e38",subMenu:[{title:"\u7238\u5988\u6e38",subMenu:["\u7948\u798f\u62dc\u4f5b","\u53e4\u9547\u6e38\u73a9","\u6842\u6797\u5c71\u6c34","\u7ea2\u8272\u4e4b\u65c5"]},{title:"\u4eb2\u5b50\u6e38",subMenu:["\u4e0a\u6d77\u8fea\u58eb\u5c3c","\u63a2\u9669\u4f53\u9a8c","\u6d77\u6d0b\u516c\u56ed","\u611f\u53d7\u540d\u6821"]},{title:"\u871c\u6708\u6e38",subMenu:["\u6d6a\u6f2b\u6d77\u5c9b","\u8c6a\u534e\u9152\u5e97","\u8d2d\u7269\u8840\u62fc","\u5168\u7403\u5a5a\u793c"]}]},{title:"\u5468\u8fb9\u6e38",subMenu:[{title:"\u5468\u8fb9\u76ee\u7684\u5730",subMenu:["\u676d\u5dde","\u5357\u4eac","\u82cf\u5dde","\u9ec4\u5c71"]},{title:"\u70ed\u95e8\u666f\u70b9",subMenu:["\u666e\u9640\u5c71","\u5343\u5c9b\u6e56","\u4e4c\u9547\u53e4\u9547","\u5b8f\u6751"]}]},{title:"\u56fd\u5185\u6e38",subMenu:[{title:"\u5e7f\u4e1c",subMenu:["\u5e7f\u5dde","\u6df1\u5733","\u73e0\u6d77","\u60e0\u5dde"]},{title:"\u6d59\u6c5f",subMenu:["\u676d\u5dde","\u666e\u9640\u5c71","\u5343\u5c9b\u6e56","\u5b81\u6ce2"]},{title:"\u6c5f\u82cf",subMenu:["\u821f\u5c71","\u4e4c\u9547","\u5e72\u5c71","\u6e56\u5dde"]}]},{title:"\u4e1c\u5357\u4e9a",subMenu:[{title:"\u70ed\u95e8\u76ee\u7684\u5730",subMenu:["\u65b0\u52a0\u5761","\u5df4\u5398\u5c9b","\u8d8a\u5357","\u67ec\u57d4\u5be8"]},{title:"\u70ed\u95e8\u666f\u70b9",subMenu:["\u4e0b\u9f99\u6e7e","\u5434\u54e5\u7a9f","\u897f\u54c8\u52aa\u514b","\u69df\u57ce\u73cd\u73e0\u5c9b"]}]},{title:"\u6b27\u6d32",subMenu:[{title:"\u70ed\u95e8\u90ae\u8f6e\u822a\u7ebf",subMenu:["\u6b27\u6d32\u6cb3\u8f6e","\u5317\u6b27\u90ae\u8f6e","\u7231\u7434\u6d77\u90ae\u8f6e","\u82f1\u4f26\u4e09\u5c9b"]},{title:"\u70ed\u95e8\u666f\u70b9",subMenu:["\u8d1d\u52a0\u5c14\u6e56","\u666e\u7f57\u65fa\u65af","\u963f\u5c14\u5351\u65af","\u5723\u6258\u91cc\u5c3c\u5c9b"]},{title:"\u871c\u6708\u6e38",subMenu:["\u6781\u5149\u4e2d\u5fc3","\u4fc4\u7f57\u65af\u8fdc\u4e1c\u5730\u533a","\u82f1\u683c\u5170\u5c11\u5973\u5cf0","\u73bb\u7483\u6d77\u6ee9"]}]}],$=n(382),ee=function(){return Object(w.jsx)(N.a,{mode:"vertical",className:K.a["side-menu"],children:Z.map((function(e,t){return Object(w.jsx)(N.a.SubMenu,{icon:Object(w.jsx)($.a,{}),title:Object(w.jsx)("span",{children:e.title}),children:e.subMenu.map((function(e,n){return Object(w.jsx)(N.a.SubMenu,{icon:Object(w.jsx)($.a,{}),title:Object(w.jsx)("span",{children:e.title}),children:e.subMenu.map((function(e,r){return Object(w.jsx)(N.a.Item,{icon:Object(w.jsx)($.a,{}),children:Object(w.jsx)("span",{children:e})},"sub-sub-menu-".concat(t,"-").concat(n,"-").concat(r))}))},"sub-menu-".concat(t,"-").concat(n))}))},"side-menu-".concat(t))}))})},te=n(220),ne=n.n(te),re=n(374),ae=n(371),ce=n.p+"static/media/carousel_1.8a3dd591.jpg",ie=n.p+"static/media/carousel_2.b79314aa.jpg",se=n.p+"static/media/carousel_3.39c09c71.jpg",oe=function(){return Object(w.jsxs)(re.a,{autoplay:!0,className:ne.a.slider,children:[Object(w.jsx)(ae.a,{src:ce}),Object(w.jsx)(ae.a,{src:ie}),Object(w.jsx)(ae.a,{src:se})]})},le=n(187),de=n.n(le),ue=n(365),je=n(111),pe=n(67),be=function(e){var t=e.id,n=e.size,r=e.imageSrc,a=e.price,c=e.title;return Object(w.jsxs)(O.b,{to:"detail/".concat(t),children:["large"===n?Object(w.jsx)(ae.a,{src:r,height:285,width:490}):Object(w.jsx)(ae.a,{src:r,height:120,width:240}),Object(w.jsxs)("div",{children:[Object(w.jsx)(v.a.Text,{type:"secondary",children:c.slice(0,25)}),Object(w.jsxs)(v.a.Text,{type:"danger",strong:!0,children:["\xa5 ",a," \u8d77"]})]})]})},he=function(e){var t=e.title,n=e.sideImage,r=e.products;return Object(w.jsxs)("div",{className:de.a.content,children:[Object(w.jsx)(ue.a,{orientation:"left",children:t}),Object(w.jsxs)(je.a,{children:[Object(w.jsx)(pe.a,{span:4,children:Object(w.jsx)("img",{src:n,className:de.a["side-image"],alt:""})}),Object(w.jsxs)(pe.a,{span:20,children:[Object(w.jsxs)(je.a,{children:[Object(w.jsx)(pe.a,{span:12,children:Object(w.jsx)(be,{id:r[0].id,size:"large",title:r[0].title,imageSrc:r[0].touristRoutePictures[0].url,price:r[0].price})}),Object(w.jsxs)(pe.a,{span:12,children:[Object(w.jsxs)(je.a,{children:[Object(w.jsx)(pe.a,{span:12,children:Object(w.jsx)(be,{id:r[1].id,size:"small",title:r[1].title,imageSrc:r[1].touristRoutePictures[0].url,price:r[1].price})}),Object(w.jsx)(pe.a,{span:12,children:Object(w.jsx)(be,{id:r[2].id,size:"small",title:r[2].title,imageSrc:r[2].touristRoutePictures[0].url,price:r[2].price})})]}),Object(w.jsxs)(je.a,{children:[Object(w.jsx)(pe.a,{span:12,children:Object(w.jsx)(be,{id:r[3].id,size:"small",title:r[3].title,imageSrc:r[3].touristRoutePictures[0].url,price:r[3].price})}),Object(w.jsx)(pe.a,{span:12,children:Object(w.jsx)(be,{id:r[4].id,size:"small",title:r[4].title,imageSrc:r[4].touristRoutePictures[0].url,price:r[4].price})})]})]})]}),Object(w.jsxs)(je.a,{children:[Object(w.jsx)(pe.a,{span:6,children:Object(w.jsx)(be,{id:r[5].id,size:"small",title:r[5].title,imageSrc:r[5].touristRoutePictures[0].url,price:r[5].price})}),Object(w.jsx)(pe.a,{span:6,children:Object(w.jsx)(be,{id:r[6].id,size:"small",title:r[6].title,imageSrc:r[6].touristRoutePictures[0].url,price:r[6].price})}),Object(w.jsx)(pe.a,{span:6,children:Object(w.jsx)(be,{id:r[7].id,size:"small",title:r[7].title,imageSrc:r[7].touristRoutePictures[0].url,price:r[7].price})}),Object(w.jsx)(pe.a,{span:6,children:Object(w.jsx)(be,{id:r[8].id,size:"small",title:r[8].title,imageSrc:r[8].touristRoutePictures[0].url,price:r[8].price})})]})]})]})]})},Oe=n(221),me=n.n(Oe),ge=[{src:n.p+"static/media/microsoft-80658_640.7799e3ac.png",title:"Microsoft"},{src:n.p+"static/media/icon-720944_640.66777c45.png",title:"Youtube"},{src:n.p+"static/media/follow-826033_640.0d322875.png",title:"Ins"},{src:n.p+"static/media/facebook-807588_640.c91f8a1f.png",title:"Facebook"}],xe=function(e){var t=Object(_.a)().t;return Object(w.jsxs)("div",{className:me.a.content,children:[Object(w.jsx)(ue.a,{orientation:"left",children:Object(w.jsx)(v.a.Title,{level:3,children:t("home_page.joint_venture")})}),Object(w.jsx)(je.a,{children:ge.map((function(e,t){return Object(w.jsx)(pe.a,{span:6,children:Object(w.jsx)("img",{alt:"bussiness-partner",src:e.src,style:{width:"80%",display:"block",marginLeft:"auto",marginRight:"auto"}})},"bussiness-partner-"+t)}))})]})},fe=n(128),ye=n.n(fe),ve=n(376),_e=n(369),we=[{title:"title",dataIndex:"title",key:"title",align:"left",width:120},{title:"description",dataIndex:"description",key:"description",align:"center"}],ke=function(e){var t=e.title,n=e.shortDescription,r=e.price,a=e.coupons,c=e.discount,i=e.rating,s=e.pictures,o=[{key:0,title:"\u8def\u7ebf\u540d\u79f0",description:t},{key:1,title:"\u4ef7\u683c",description:Object(w.jsxs)(w.Fragment,{children:["\xa5"," ",Object(w.jsx)(v.a.Text,{type:"danger",strong:!0,children:r})]})},{key:2,title:"\u9650\u65f6\u62a2\u8d2d\u6298\u6263",description:c?Object(w.jsxs)(w.Fragment,{children:["\xa5 ",Object(w.jsx)(v.a.Text,{delete:!0,children:r})," ",Object(w.jsxs)(v.a.Text,{type:"danger",strong:!0,children:["\xa5 ",c]})]}):"\u6682\u65e0\u6298\u6263"},{key:3,title:"\u9886\u53d6\u4f18\u60e0",description:a?c:"\u65e0\u4f18\u60e0\u5238\u53ef\u9886"},{key:4,title:"\u7ebf\u8def\u8bc4\u4ef7",description:Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(ve.a,{allowHalf:!0,defaultValue:+i}),Object(w.jsxs)(v.a.Text,{style:{marginLeft:10},children:[i," \u661f"]})]})}];return Object(w.jsxs)("div",{className:ye.a["intro-container"],children:[Object(w.jsx)(v.a.Title,{level:4,children:t}),Object(w.jsx)(v.a.Text,{children:n}),Object(w.jsxs)("div",{className:ye.a["intro-detail-content"],children:[Object(w.jsxs)(v.a.Text,{style:{marginLeft:20},children:["\xa5 ",Object(w.jsx)("span",{className:ye.a["intro-detail-strong-text"],children:r})," ","/\u4eba\u8d77"]}),Object(w.jsxs)(v.a.Text,{style:{marginLeft:50},children:[Object(w.jsx)("span",{className:ye.a["intro-detail-strong-text"],children:i})," ","\u5206"]})]}),Object(w.jsx)(re.a,{autoplay:!0,slidesToShow:3,children:s.map((function(e,t){return Object(w.jsx)(ae.a,{height:150,src:e},t)}))}),Object(w.jsx)(_e.a,{columns:we,dataSource:o,size:"small",bordered:!1,pagination:!1,showHeader:!1})]})},Ce=n(379),Ie=n(366),Se=function(e){var t=e.data;return Object(w.jsx)(Ce.b,{dataSource:t,itemLayout:"horizontal",renderItem:function(e){return Object(w.jsx)(Ce.b.Item,{children:Object(w.jsx)(Ie.a,{author:e.author,avatar:e.avatar,content:e.content,datetime:e.createDate})})}})},Pe=n(243),Te=n(380),Ne=n(383),Re=n(384),ze=v.a.Text,Le=function(e){var t=e.icon,n=e.text;return Object(w.jsxs)(Te.b,{children:[l.a.createElement(t),n]})},Me=function(e){var t=e.data,n=e.paging,r=e.onPageChange,a=t.map((function(e){return{id:e.id,title:e.title,description:e.description,tags:Object(w.jsxs)(w.Fragment,{children:[e.departureCity&&Object(w.jsxs)(Pe.a,{color:"#f50",children:[e.departureCity,"\u51fa\u53d1"]}),e.travelDays&&Object(w.jsxs)(Pe.a,{color:"#108ee9",children:[e.travelDays," \u5929 "]}),e.discountPresent&&Object(w.jsx)(Pe.a,{color:"#87d068",children:"\u8d85\u4f4e\u6298\u6263"}),e.tripType&&Object(w.jsx)(Pe.a,{color:"#2db7f5",children:e.tripType})]}),imgSrc:e.touristRoutePictures[0].url,price:e.price,originalPrice:e.originalPrice,discountPresent:e.discountPresent,rating:e.rating}}));return Object(w.jsx)(Ce.b,{itemLayout:"vertical",size:"large",pagination:!!n&&{current:n.currentPage,onChange:function(e){return r&&r(e,n.pageSize)},pageSize:n.pageSize,total:n.totalCount},dataSource:a,footer:n&&Object(w.jsxs)("div",{children:["\u641c\u7d22\u603b\u8def\u7ebf: ",Object(w.jsx)(ze,{strong:!0,children:n.totalCount})," \u6761"]}),renderItem:function(e){return Object(w.jsxs)(Ce.b.Item,{actions:[Object(w.jsx)(Le,{icon:Ne.a,text:"156"},"list-vertical-star-o"),Object(w.jsx)(Le,{icon:Re.a,text:"156"},"list-vertical-like-o"),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(ve.a,{defaultValue:3}),Object(w.jsx)(ze,{strong:!0,className:"ant-rate-text",children:e.rating})]})],extra:Object(w.jsx)(ae.a,{width:272,height:172,alt:"image",src:e.imgSrc}),children:[Object(w.jsx)(Ce.b.Item.Meta,{title:Object(w.jsxs)(w.Fragment,{children:[e.discountPresent?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(ze,{style:{fontSize:20,fontWeight:400},delete:!0,children:["\xa5 ",e.originalPrice]}),Object(w.jsxs)(ze,{type:"danger",style:{fontSize:20,fontWeight:400},children:[" ","\xa5 ",e.price]})]}):Object(w.jsxs)(ze,{style:{fontSize:20,fontWeight:400},children:["\xa5 ",e.price]}),Object(w.jsxs)(O.b,{to:"/detail/"+e.id,children:[" ",e.title]})]}),description:e.tags}),e.description]},e.title)}})},De=n(27),Fe=Pe.a.CheckableTag,Ae=function(e){var t=Object(o.useState)(!1),n=Object(C.a)(t,2),r=n[0],a=n[1];return Object(w.jsx)(Fe,Object(De.a)(Object(De.a)({},e),{},{checked:r,onChange:function(e){a(e)}}))},He=v.a.Text,Ee=function(e){var t=e.title,n=e.tags;return Object(w.jsxs)("div",{children:[Object(w.jsxs)(He,{style:{marginRight:40,fontSize:15,fontWeight:500},children:[t," :"," "]}),n.map((function(e,t){return t===n.length-1?Object(w.jsx)(Ae,{children:e},"filter".concat(t)):Object(w.jsxs)("span",{children:[Object(w.jsx)(Ae,{children:e}),Object(w.jsx)(ue.a,{type:"vertical"})]},"filter".concat(t))}))]})},Ue=n(189),Ve=n.n(Ue),qe=function(){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(Ee,{title:"\u8def\u7ebf\u8bc4\u4ef7",tags:["1\u661f","2\u661f","3\u661f","4\u661f","5\u661f"]}),Object(w.jsx)(ue.a,{dashed:!0,className:Ve.a["filter-divider"]}),Object(w.jsx)(Ee,{title:"\u51fa\u53d1\u57ce\u5e02",tags:["\u5317\u4eac","\u4e0a\u6d77","\u5e7f\u5dde","\u6df1\u5733"]}),Object(w.jsx)(ue.a,{dashed:!0,className:Ve.a["filter-divider"]}),Object(w.jsx)(Ee,{title:"\u884c\u7a0b\u5929\u6570",tags:["2\u65e5","3\u65e5","4\u65e5","5\u65e5","6\u65e5"]}),Object(w.jsx)(ue.a,{dashed:!0}),Object(w.jsx)(Ee,{title:"\u65c5\u7a0b\u7c7b\u578b",tags:["\u8ddf\u56e2\u6e38","\u81ea\u7531\u884c","\u81ea\u9a7e\u6e38","\u9ad8\u7aef\u5b9a\u5236"]}),Object(w.jsx)(ue.a,{dashed:!0}),Object(w.jsx)(Ee,{title:"\u51fa\u53d1\u65f6\u95f4",tags:["\u6625\u8282","\u6e05\u660e","\u52b3\u52a8\u8282"]})]})},Be=n(370),Xe=n(375),We=n(244),Je=n(385),Ye=Be.a.Meta,Qe=v.a.Title,Ge=v.a.Text,Ke=[{title:"\u9879\u76ee",dataIndex:"item",key:"item"},{title:"\u91d1\u989d",dataIndex:"amount",key:"amount"}],Ze=function(e){var t=e.loading,n=e.originalPrice,r=e.price,a=e.onShoppingCartClear,c=e.onCheckout,i=[{key:1,item:"\u539f\u4ef7",amount:Object(w.jsxs)(Ge,{delete:!0,children:["\xa5 ",n]})},{key:3,item:"\u73b0\u4ef7",amount:Object(w.jsxs)(Qe,{type:"danger",level:2,children:["\xa5 ",r]})}];return Object(w.jsx)(Be.a,{style:{width:300,marginTop:16},actions:[Object(w.jsxs)(R.a,{type:"primary",danger:!0,onClick:c,loading:t,children:[Object(w.jsx)(We.a,{}),"\u4e0b\u5355\u652f\u4ed8"]}),Object(w.jsxs)(R.a,{onClick:a,loading:t,children:[Object(w.jsx)(Je.a,{}),"\u6e05\u7a7a"]})],children:Object(w.jsx)(Xe.a,{loading:t,active:!0,children:Object(w.jsx)(Ye,{title:Object(w.jsx)(Qe,{level:2,children:"\u603b\u8ba1"}),description:Object(w.jsx)(_e.a,{columns:Ke,dataSource:i,showHeader:!1,size:"small",bordered:!1,pagination:!1})})})})},$e=n(224),et=(n(357),n(225)),tt=n.n(et),nt=function(e){Object(x.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={cvc:"",expiry:"",focus:"",name:"",number:""},e.handleInputFocus=function(t){e.setState({focus:t.target.name})},e.handleInputChange=function(t){var n=t.target,r=n.name,a=n.value;e.setState(Object(E.a)({},r,a))},e}return Object(g.a)(n,[{key:"render",value:function(){return Object(w.jsxs)("div",{id:"PaymentForm",style:{marginTop:50},children:[Object(w.jsx)($e.a,{cvc:this.state.cvc,expiry:this.state.expiry,focused:this.state.focus,name:this.state.name,number:this.state.number}),Object(w.jsx)("form",{className:tt.a["payment-form"],children:Object(w.jsx)(z.a,{type:"tel",name:"number",placeholder:"Card Number",onChange:this.handleInputChange,onFocus:this.handleInputFocus})})]})}}]),n}(l.a.Component),rt=n(386),at=Be.a.Meta,ct=v.a.Title,it=v.a.Text,st=[{title:"\u4ea7\u54c1",dataIndex:"item",key:"item"},{title:"\u4ef7\u683c",dataIndex:"amount",key:"amount"}],ot=function(e){var t=e.loading,n=e.order,r=e.onCheckout,a=Object(h.g)(),c=n?n.orderItems.map((function(e,t){return{key:t,item:e.touristRoute.title,amount:Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(it,{delete:!0,children:["\xa5 ",e.originalPrice," "]})," ",Object(w.jsxs)(it,{type:"danger",strong:!0,children:["\xa5 ",e.originalPrice*e.discountPresent]})]})}})):[];return Object(w.jsx)(Be.a,{style:{width:600,marginTop:50},actions:[n&&"Completed"===n.state?Object(w.jsxs)(R.a,{type:"primary",onClick:function(){a.push("/")},loading:t,children:[Object(w.jsx)(rt.a,{}),"\u56de\u5230\u9996\u9875"]}):Object(w.jsxs)(R.a,{type:"primary",danger:!0,onClick:r,loading:t,children:[Object(w.jsx)(We.a,{}),"\u652f\u4ed8"]})],children:Object(w.jsx)(Xe.a,{loading:t,active:!0,children:Object(w.jsx)(at,{title:Object(w.jsx)(ct,{level:2,children:n&&"Completed"===n.state?"\u652f\u4ed8\u6210\u529f":"\u603b\u8ba1"}),description:Object(w.jsx)(_e.a,{columns:st,dataSource:c,showHeader:!1,size:"small",bordered:!1,pagination:!1})})})})},lt=n(226),dt=n.n(lt),ut=function(e){var t=e.children;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(Q,{}),Object(w.jsx)("div",{className:dt.a["page-content"],children:t}),Object(w.jsx)(k,{})]})},jt=n(62),pt=n.n(jt),bt=n(245),ht=y.a.Header,Ot=y.a.Footer,mt=y.a.Content,gt=function(e){var t=Object(w.jsxs)(N.a,{children:[Object(w.jsx)(N.a.Item,{children:"\u4e2d\u6587"},"zh"),Object(w.jsx)(N.a.Item,{children:"English"},"en")]});return Object(w.jsxs)(y.a,{className:pt.a["user-layout-container"],children:[Object(w.jsx)(ht,{className:pt.a.header,children:Object(w.jsx)("div",{className:pt.a.lang,children:Object(w.jsx)(T.a,{overlay:t,children:Object(w.jsxs)(R.a,{children:[" ","\u9009\u62e9\u8bed\u8a00 ",Object(w.jsx)(bt.a,{})]})})})}),Object(w.jsx)(mt,{className:pt.a.content,children:Object(w.jsxs)("div",{className:pt.a.top,children:[Object(w.jsx)("div",{className:pt.a["content-header"],children:Object(w.jsxs)(O.b,{to:"/",children:[Object(w.jsx)("img",{alt:"logo",className:pt.a.logo,src:P}),Object(w.jsx)("span",{className:pt.a.title,children:"React \u65c5\u6e38\u7f51"})]})}),Object(w.jsx)("div",{className:pt.a.desc,children:"React\u65c5\u6e38\u7f51\uff0c\u662f\u4e00\u5bb6\u56fd\u9645\u5316\u65c5\u6e38\u5e73\u53f0\uff08\u4ec5\u4f9b\u5b66\u4e60\u4f7f\u7528\uff09"}),e.children]})}),Object(w.jsx)(Ot,{className:pt.a.footer,children:Object(w.jsx)("div",{className:pt.a.desc,children:"React\u65c5\u6e38\u7f51-Footer\u9875\u9762\u5c55\u793a"})})]})},xt=n(157),ft=n.p+"static/media/sider_2019_12-09.d016ce66.png",yt=n.p+"static/media/sider_2019_02-04.600e70c8.png",vt=n.p+"static/media/sider_2019_02-04-2.e8593237.png",_t=n(367),wt=n(93),kt=n.n(wt),Ct="FETCH_RECOMMEND_PRODUCTS_START",It="FETCH_RECOMMEND_PRODUCTS_SUCCESS",St="FETCH_RECOMMEND_PRODUCTS_FAILUER",Pt=function(e){return{type:It,payload:e}},Tt=function(e){Object(x.a)(n,e);var t=Object(f.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"componentDidMount",value:function(){this.props.getRecommendProductsList()}},{key:"render",value:function(){var e=this.props.t,t=this.props,n=t.loading,r=t.error,a=t.productList;return n?Object(w.jsx)(xt.a,{size:"large",style:{marginTop:200,marginBottom:200,marginLeft:"auto",marginRight:"auto",width:"100%"}}):r?Object(w.jsxs)("div",{style:{textAlign:"center",fontSize:"20px"},children:["\u7f51\u7ad9\u51fa\u9519demo\uff1a",r]}):Object(w.jsxs)(ut,{children:[Object(w.jsxs)(je.a,{style:{marginTop:20},children:[Object(w.jsx)(pe.a,{span:6,children:Object(w.jsx)(ee,{})}),Object(w.jsx)(pe.a,{span:18,children:Object(w.jsx)(oe,{})})]}),Object(w.jsx)(he,{title:Object(w.jsx)(v.a.Title,{level:3,type:"warning",children:e("home_page.hot_recommended")}),sideImage:ft,products:kt.a.isEmpty(a)?[]:a[0].touristRoutes}),Object(w.jsx)(he,{title:Object(w.jsx)(v.a.Title,{level:3,type:"danger",children:e("home_page.new_arrival")}),sideImage:yt,products:kt.a.isEmpty(a)?[]:a[1].touristRoutes}),Object(w.jsx)(he,{title:Object(w.jsx)(v.a.Title,{level:3,type:"success",children:e("home_page.domestic_travel")}),sideImage:vt,products:kt.a.isEmpty(a)?[]:a[2].touristRoutes}),Object(w.jsx)(xe,{})]})}}]),n}(l.a.Component),Nt=Object(F.b)((function(e){return{loading:e.recommendProducts.loading,error:e.recommendProducts.error,productList:e.recommendProducts.productList}}),(function(e){return{getRecommendProductsList:function(){e(function(){var e=Object(q.a)(V.a.mark((function e(t,n){var r,a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:Ct}),e.prev=1,e.next=4,W.a.get("http://123.56.149.216:8080/api/productCollections");case 4:r=e.sent,a=r.data,t(Pt(a)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t((n=e.t0.message,{type:St,payload:n}));case 12:case"end":return e.stop()}var n}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}())}}}))(Object(_t.a)()(Tt)),Rt=n(372),zt=n(126),Lt=n(228),Mt=n.n(Lt),Dt={labelCol:{span:8},wrapperCol:{span:16}},Ft={wrapperCol:{offset:8,span:16}},At=function(){var e=Object(h.g)(),t=function(){var t=Object(q.a)(V.a.mark((function t(n){return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W.a.post("http://123.56.149.216:8080/auth/register",{email:n.username,password:n.password,confirmPassword:n.confirm});case 3:e.push("/signIn/"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),alert("\u6ce8\u518c\u5931\u8d25\uff01");case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}();return Object(w.jsxs)(Rt.a,Object(De.a)(Object(De.a)({},Dt),{},{name:"basic",initialValues:{remember:!0},onFinish:t,onFinishFailed:function(e){console.log("Failed:",e)},className:Mt.a["register-form"],children:[Object(w.jsx)(Rt.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(w.jsx)(z.a,{})}),Object(w.jsx)(Rt.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(w.jsx)(z.a.Password,{})}),Object(w.jsx)(Rt.a.Item,{label:"Confirm Password",name:"confirm",hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,n){return n&&t("password")!==n?Promise.reject(new Error("The two passwords that you entered do not match!")):Promise.resolve()}}}],children:Object(w.jsx)(z.a.Password,{})}),Object(w.jsx)(Rt.a.Item,Object(De.a)(Object(De.a)({name:"remember",valuePropName:"checked"},Ft),{},{children:Object(w.jsx)(zt.a,{children:" Remember me"})})),Object(w.jsx)(Rt.a.Item,Object(De.a)(Object(De.a)({},Ft),{},{children:Object(w.jsx)(R.a,{type:"primary",htmlType:"submit",children:"Submit"})}))]}))},Ht=function(){return Object(w.jsx)(gt,{children:Object(w.jsx)(At,{})})},Et=n(229),Ut=n.n(Et),Vt={labelCol:{span:8},wrapperCol:{span:16}},qt={wrapperCol:{offset:8,span:16}},Bt=function(){var e=A((function(e){return e.user.loading})),t=A((function(e){return e.user.token})),n=Object(h.g)(),r=Object(F.c)();Object(o.useEffect)((function(){null!==t&&n.push("/")}),[t]);var a=function(){var e=Object(q.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(J({email:t.username,password:t.password}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsxs)(Rt.a,Object(De.a)(Object(De.a)({},Vt),{},{name:"basic",initialValues:{remember:!0},onFinish:a,onFinishFailed:function(e){console.log("Failed:",e)},className:Ut.a["register-form"],children:[Object(w.jsx)(Rt.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(w.jsx)(z.a,{})}),Object(w.jsx)(Rt.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(w.jsx)(z.a.Password,{})}),Object(w.jsx)(Rt.a.Item,Object(De.a)(Object(De.a)({name:"remember",valuePropName:"checked"},qt),{},{children:Object(w.jsx)(zt.a,{children:" Remember me"})})),Object(w.jsx)(Rt.a.Item,Object(De.a)(Object(De.a)({},qt),{},{children:Object(w.jsx)(R.a,{type:"primary",htmlType:"submit",loading:e,children:"Submit"})}))]}))},Xt=function(e){return Object(w.jsx)(gt,{children:Object(w.jsx)(Bt,{})})},Wt=n(368),Jt=n(238),Yt=n(378),Qt=n(95),Gt=n.n(Qt),Kt=[{author:"\u7b03\u884c",avatar:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",content:"\u524d\u5f80\u7801\u5934\u642d\u4e58\u5feb\u8247\u524d\u5f80\u6f5c\u6c34\u8247\u5e73\u53f0\uff0c\u642d\u4e58\u6f5c\u6c34\u8247\u6f5c\u51657\u7c73\u6df1\u7ea2\u6d77\uff0c\u6b23\u8d4f\u795e\u79d8\u7f8e\u4e3d\u7684\u7ea2\u6d77\u6d77\u5e95\u4e16\u754c\u3002\u5e76\u6709\u6f5c\u6c34\u5458\u4e3a\u60a8\u732e\u4e0a\u6d77\u5e95\u5582\u9c7c\u7684\u8868\u6f14\u3002\u542b\u63a5\u9001\uff0c\u4e2d\u6587\u5bfc\u6e38\u966a\u540c",createDate:"2020-01-05"},{author:"\u7b03\u884c",avatar:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",content:"\u65e9\u4e0a5\u70b9\u5de6\u53f3\u4ece\u9152\u5e97\u51fa\u53d1\u524d\u5f80\u7801\u5934\uff0c\u642d\u4e58\u5c0f\u8239\u524d\u5f80\u5c3c\u7f57\u6cb3\u897f\u5cb8\u3002\u5c0f\u8239\u4e0a\u51c6\u5907\u6709\u70ed\u5496\u5561\uff0c\u8336\uff0c\u4ee5\u53ca\u5c0f\u70b9\u5fc3\u3002\u642d\u4e58\u70ed\u6c14\u7403\u8fce\u63a5\u65e5\u51fa\uff0c\u5e76\u4fef\u77b0\u5362\u514b\u7d22\u3002\u9014\u5f84\u54c8\u5e03\u57ce\uff0c\u5973\u738b\u795e\u5e99\uff0c\u5e1d\u738b\u8c37\u7b49\u666f\u70b9\uff0c\u4ece\u9ad8\u7a7a\u4f53\u9a8c\u4e0d\u4e00\u6837\u7684\u5362\u514b\u7d22\u3002\u843d\u5730\u540e\u4f1a\u4e3e\u529e\u4e00\u4e2a\u5c0f\u7684\u5e86\u795d\u4eea\u5f0f\uff0c\u5e76\u4e3a\u5ba2\u4eba\u9881\u53d1\u8bc1\u4e66\u3002\u4e4b\u540e\u4e13\u8f66\u9001\u8fd4\u9152\u5e97\u3002",createDate:"2020-02-06"},{author:"\u7b03\u884c",avatar:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",content:"\u884c\u7a0b\u5b89\u6392\u4ec5\u4f9b\u53c2\u8003\uff0c\u89c6\u5f53\u5929\u5177\u4f53\u5929\u6c14\u60c5\u51b5\u800c\u5b9a\u3002\u82e5\u56e0\u5929\u6c14\u72b6\u51b5\u800c\u65e0\u6cd5\u4e58\u5750\u70ed\u6c14\u7403\uff0c\u5219\u539f\u4ef7\u9000\u8fd8\uff01",createDate:"2020-01-04"},{author:"\u7b03\u884c",avatar:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",content:"\u642d\u4e58\u7279\u6b8a\u5b9a\u5236\u7684\u6e38\u8239\uff0c\u5728\u6e38\u8239\u5e95\u90e8\u8bbe\u6709\u5927\u578b\u89c2\u5149\u7a97\uff0c\u4fbf\u4e8e\u6b23\u8d4f\u5947\u5999\u7684\u6d77\u5e95\u4e16\u754c\u3002\u5305\u542b\u63a5\u9001\uff0c\u4e2d\u6587\u5bfc\u6e38\u966a\u540c\u6ce8\u610f\uff1a\u4e0a\u4e0b\u8239\u65f6\u8bf7\u6ce8\u610f\u5b89\u5168\uff0c\u4f9d\u6b21\u6392\u961f\u5207\u52ff\u62e5\u6324\u3001\u5c0f\u5fc3\u5730\u6ed1\u300270\u7f8e\u91d1/\u4eba\uff084\u4eba\u8d77\uff09",createDate:"2020-02-05"}],Zt=Object(B.b)("productDetail/productDetailSlice",function(){var e=Object(q.a)(V.a.mark((function e(t,n){var r,a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.a.get("http://123.56.149.216:8080/api/touristRoutes/".concat(t));case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),$t=Object(B.c)({name:"productDetail",initialState:{loading:!0,error:null,data:null},reducers:{},extraReducers:(a={},Object(E.a)(a,Zt.pending.type,(function(e){e.loading=!0})),Object(E.a)(a,Zt.fulfilled.type,(function(e,t){e.data=t.payload,e.loading=!1,e.error=null})),Object(E.a)(a,Zt.rejected.type,(function(e,t){e.loading=!1,e.error=t.payload})),a)}),en=n(387),tn=Object(B.b)("shoppingCart/getShoppingCart",function(){var e=Object(q.a)(V.a.mark((function e(t,n){var r,a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.a.get("http://123.56.149.216:8080/api/shoppingCart",{headers:{Authorization:"bearer ".concat(t)}});case 2:return r=e.sent,a=r.data,e.abrupt("return",a.shoppingCartItems);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),nn=Object(B.b)("shoppingCart/addShoppingCartItem",function(){var e=Object(q.a)(V.a.mark((function e(t,n){var r,a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.a.post("http://123.56.149.216:8080/api/shoppingCart/items",{touristRouteId:t.touristRouteId},{headers:{Authorization:"bearer ".concat(t.jwt)}});case 2:return r=e.sent,a=r.data,e.abrupt("return",a.shoppingCartItems);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),rn=Object(B.b)("shoppingCart/clearShoppingCartItem",function(){var e=Object(q.a)(V.a.mark((function e(t,n){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.a.delete("http://123.56.149.216:8080/api/shoppingCart/items/(".concat(t.itemIds.join(","),")"),{headers:{Authorization:"bearer ".concat(t.jwt)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),an=Object(B.b)("shoppingCart/checkout",function(){var e=Object(q.a)(V.a.mark((function e(t,n){var r,a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.a.post("http://123.56.149.216:8080/api/shoppingCart/checkout",null,{headers:{Authorization:"bearer ".concat(t)}});case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),cn=Object(B.c)({name:"shoppingCartSlice",initialState:{loading:!0,error:null,items:[]},reducers:{},extraReducers:(c={},Object(E.a)(c,tn.pending.type,(function(e){e.loading=!0})),Object(E.a)(c,tn.fulfilled.type,(function(e,t){e.items=t.payload,e.loading=!1,e.error=null})),Object(E.a)(c,tn.rejected.type,(function(e,t){e.loading=!1,e.error=t.payload})),Object(E.a)(c,nn.pending.type,(function(e){e.loading=!0})),Object(E.a)(c,nn.fulfilled.type,(function(e,t){e.items=t.payload,e.loading=!1,e.error=null})),Object(E.a)(c,nn.rejected.type,(function(e,t){e.loading=!1,e.error=t.payload})),Object(E.a)(c,rn.pending.type,(function(e){e.loading=!0})),Object(E.a)(c,rn.fulfilled.type,(function(e){e.items=[],e.loading=!1,e.error=null})),Object(E.a)(c,rn.rejected.type,(function(e,t){e.loading=!1,e.error=t.payload})),Object(E.a)(c,an.pending.type,(function(e){e.loading=!0})),Object(E.a)(c,an.fulfilled.type,(function(e,t){e.items=[],e.loading=!1,e.error=null})),Object(E.a)(c,an.rejected.type,(function(e,t){e.loading=!1,e.error=t.payload})),c)}),sn=Wt.a.RangePicker,on=function(){var e=Object(h.i)().touristRouteId,t=A((function(e){return e.productDetail.loading})),n=A((function(e){return e.productDetail.data})),r=A((function(e){return e.productDetail.error})),a=A((function(e){return e.user.token})),c=A((function(e){return e.shoppingCart.loading})),i=A((function(e){return e.shoppingCart.items})),s=Object(F.c)();return Object(o.useEffect)((function(){s(Zt(e))}),[]),t?Object(w.jsx)(xt.a,{size:"large",style:{marginTop:200,marginBottom:200,marginLeft:"auto",marginRight:"auto",width:"100%"}}):r?Object(w.jsxs)("div",{style:{textAlign:"center",fontSize:"20px"},children:["\u7f51\u7ad9\u51fa\u9519demo\uff1a",r]}):Object(w.jsxs)(ut,{children:[Object(w.jsx)("div",{className:Gt.a["product-intro-container"],children:Object(w.jsxs)(je.a,{children:[Object(w.jsx)(pe.a,{span:13,children:Object(w.jsx)(ke,{title:n.title,shortDescription:n.description,price:n.originalPrice,coupons:n.coupons,points:n.points,discount:n.price,rating:n.rating,pictures:n.touristRoutePictures.map((function(e){return e.url}))})}),Object(w.jsxs)(pe.a,{span:11,children:[Object(w.jsxs)(R.a,{style:{marginTop:50,marginBottom:30,display:"block"},type:"primary",danger:!0,loading:c,onClick:function(){if(i.length>0){var e=kt.a.find(i,(function(e){return e.touristRouteId===n.id}));if(!kt.a.isEmpty(e))return Jt.b.error("\u8d2d\u7269\u8f66\u5df2\u5b58\u5728\uff0c\u8bf7\u52ff\u91cd\u590d\u6dfb\u52a0")}s(nn({jwt:a,touristRouteId:n.id}))},children:[Object(w.jsx)(en.a,{}),"\u653e\u5165\u8d2d\u7269\u8f66"]}),Object(w.jsx)(sn,{open:!0,style:{marginTop:15}})]})]})}),Object(w.jsx)(Yt.a,{className:Gt.a["product-detail-anchor"],children:Object(w.jsxs)(N.a,{mode:"horizontal",children:[Object(w.jsx)(N.a.Item,{children:Object(w.jsx)(Yt.a.Link,{href:"#feature",title:"\u4ea7\u54c1\u7279\u8272"})},"1"),Object(w.jsx)(N.a.Item,{children:Object(w.jsx)(Yt.a.Link,{href:"#fees",title:"\u8d39\u7528"})},"3"),Object(w.jsx)(N.a.Item,{children:Object(w.jsx)(Yt.a.Link,{href:"#notes",title:"\u9884\u8ba2\u987b\u77e5"})},"4"),Object(w.jsx)(N.a.Item,{children:Object(w.jsx)(Yt.a.Link,{href:"#comments",title:"\u7528\u6237\u8bc4\u4ef7"})},"5")]})}),Object(w.jsxs)("div",{id:"feature",className:Gt.a["product-detail-container"],children:[Object(w.jsx)(ue.a,{orientation:"center",children:Object(w.jsx)(v.a.Title,{level:3,children:"\u4ea7\u54c1\u7279\u8272"})}),Object(w.jsx)("div",{dangerouslySetInnerHTML:{__html:n.features},style:{margin:50}})]}),Object(w.jsxs)("div",{id:"fees",className:Gt.a["product-detail-container"],children:[Object(w.jsx)(ue.a,{orientation:"center",children:Object(w.jsx)(v.a.Title,{level:3,children:"\u8d39\u7528"})}),Object(w.jsx)("div",{dangerouslySetInnerHTML:{__html:n.fees},style:{margin:50}})]}),Object(w.jsxs)("div",{id:"notes",className:Gt.a["product-detail-container"],children:[Object(w.jsx)(ue.a,{orientation:"center",children:Object(w.jsx)(v.a.Title,{level:3,children:"\u9884\u5b9a\u987b\u77e5"})}),Object(w.jsx)("div",{dangerouslySetInnerHTML:{__html:n.notes},style:{margin:50}})]}),Object(w.jsxs)("div",{id:"comments",className:Gt.a["product-detail-container"],children:[Object(w.jsx)(ue.a,{orientation:"center",children:Object(w.jsx)(v.a.Title,{level:3,children:"\u7528\u6237\u8bc4\u4ef7"})}),Object(w.jsx)("div",{style:{margin:40},children:Object(w.jsx)(Se,{data:Kt})})]})]})},ln=Object(B.b)("productSearch/productSearchSlice",function(){var e=Object(q.a)(V.a.mark((function e(t,n){var r,a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://123.56.149.216:8080/api/touristRoutes?pageNumber=".concat(t.nextPage,"&pageSize=").concat(t.pageSize),t.keywords&&(r+="&keyword=".concat(t.keywords)),e.next=4,W.a.get(r);case 4:return a=e.sent,e.abrupt("return",{data:a.data,pagination:JSON.parse(a.headers["x-pagination"])});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),dn=Object(B.c)({name:"productSearch",initialState:{loading:!0,error:null,data:null,pagination:null},reducers:{},extraReducers:(i={},Object(E.a)(i,ln.pending.type,(function(e){e.loading=!0})),Object(E.a)(i,ln.fulfilled.type,(function(e,t){e.data=t.payload.data,e.pagination=t.payload.pagination,e.loading=!1,e.error=null})),Object(E.a)(i,ln.rejected.type,(function(e,t){e.loading=!1,e.error=t.payload})),i)}),un=n(190),jn=n.n(un),pn=function(){var e=A((function(e){return e.searchDetail.loading})),t=A((function(e){return e.searchDetail.error})),n=A((function(e){return e.searchDetail.pagination})),r=A((function(e){return e.searchDetail.data})),a=Object(F.c)(),c=Object(h.h)(),i=Object(h.i)().keywords;Object(o.useEffect)((function(){a(ln({nextPage:1,pageSize:6,keywords:i}))}),[c]);return e?Object(w.jsx)(xt.a,{size:"large",style:{marginTop:200,marginBottom:200,marginLeft:"auto",marginRight:"auto",width:"100%"}}):t?Object(w.jsxs)("div",{children:["\u7f51\u7ad9\u51fa\u9519demo\uff1a",t]}):Object(w.jsxs)(ut,{children:[Object(w.jsx)("div",{className:jn.a["product-list-container"],children:Object(w.jsx)(qe,{})}),Object(w.jsx)("div",{className:jn.a["product-list-container"],children:Object(w.jsx)(Me,{data:r,paging:n,onPageChange:function(e,t){a(ln({nextPage:e,pageSize:t,keywords:i}))}})})]})},bn=n(191),hn=n.n(bn),On=n(240),mn=function(e){var t=A((function(e){return e.shoppingCart.loading})),n=A((function(e){return e.shoppingCart.items})),r=A((function(e){return e.user.token})),a=Object(F.c)(),c=Object(h.g)();return Object(w.jsx)(ut,{children:Object(w.jsxs)(je.a,{children:[Object(w.jsx)(pe.a,{span:16,children:Object(w.jsx)("div",{className:hn.a["product-list-container"],children:Object(w.jsx)(Me,{data:n.map((function(e){return e.touristRoute}))})})}),Object(w.jsx)(pe.a,{span:8,children:Object(w.jsx)(On.a,{children:Object(w.jsx)("div",{className:hn.a["payment-card-container"],children:Object(w.jsx)(Ze,{loading:t,originalPrice:n.map((function(e){return e.originalPrice})).reduce((function(e,t){return e+t}),0),price:n.map((function(e){return e.originalPrice*(e.discountPresent?e.discountPresent:1)})).reduce((function(e,t){return e+t}),0),onCheckout:function(){n.length<=0||(a(an(r)),c.push("/placeorder"))},onShoppingCartClear:function(){a(rn({jwt:r,itemIds:n.map((function(e){return e.id}))}))}})})})})]})})},gn=Object(B.b)("order/placeOrder",function(){var e=Object(q.a)(V.a.mark((function e(t,n){var r,a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.a.post("http://123.56.149.216:8080/api/orders/".concat(t.orderId,"/placeOrder"),null,{headers:{Authorization:"bearer ".concat(t.jwt)}});case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),xn=Object(B.c)({name:"placeOrderSlice",initialState:{loading:!1,error:null,currentOrder:null},reducers:{},extraReducers:(s={},Object(E.a)(s,gn.pending.type,(function(e){e.loading=!0})),Object(E.a)(s,gn.fulfilled.type,(function(e,t){e.currentOrder=t.payload,e.loading=!1,e.error=null})),Object(E.a)(s,gn.rejected.type,(function(e,t){e.loading=!1,e.error=t.payload})),Object(E.a)(s,an.pending.type,(function(e){e.loading=!0})),Object(E.a)(s,an.fulfilled.type,(function(e,t){e.currentOrder=t.payload,e.loading=!1,e.error=null})),Object(E.a)(s,an.rejected.type,(function(e,t){e.loading=!1,e.error=t.payload})),s)}),fn=function(){var e=A((function(e){return e.user.token})),t=A((function(e){return e.order.loading})),n=A((function(e){return e.order.currentOrder})),r=Object(F.c)();return Object(w.jsx)(ut,{children:Object(w.jsxs)(je.a,{children:[Object(w.jsx)(pe.a,{span:12,children:Object(w.jsx)(nt,{})}),Object(w.jsx)(pe.a,{span:12,children:Object(w.jsx)(ot,{loading:t,order:n,onCheckout:function(){r(gn({jwt:e,orderId:n.id}))}})})]})})},yn=function(e){var t=e.component,n=e.isAuthenticated;Object(j.a)(e,["component","isAuthenticated"]);return Object(w.jsx)(h.b,{render:function(e){return n?l.a.createElement(t,e):Object(w.jsx)(h.a,{to:"/signIn"})}})};var vn=function(){var e=A((function(e){return e.user.token})),t=Object(F.c)();return Object(o.useEffect)((function(){e&&t(tn(e))}),[e]),Object(w.jsx)("div",{className:b.a.App,children:Object(w.jsx)(O.a,{children:Object(w.jsxs)(h.d,{children:[Object(w.jsx)(h.b,{exact:!0,path:"/",component:Nt}),Object(w.jsx)(h.b,{path:"/signIn",component:Xt}),Object(w.jsx)(h.b,{path:"/register",component:Ht}),Object(w.jsx)(h.b,{path:"/detail/:touristRouteId",component:on}),Object(w.jsx)(h.b,{path:"/search/:keywords?",component:pn}),Object(w.jsx)(yn,{isAuthenticated:null!==e,path:"/shoppingCart",component:mn}),Object(w.jsx)(yn,{isAuthenticated:null!==e,path:"/placeOrder",component:fn}),Object(w.jsx)(h.b,{render:function(){return Object(w.jsx)("div",{children:"404 Not Found \u9875\u9762\u53bb\u706b\u661f\u4e86\uff01\uff01\uff01"})}})]})})})},_n=(n(359),n(125)),wn=n(127),kn={en:{translation:n(231)},zh:{translation:n(232)}};_n.a.use(wn.e).init({resources:kn,lng:"zh",interpolation:{escapeValue:!1}});_n.a;var Cn=n(160),In={language:"zh",languageList:[{name:"\u4e2d\u6587",code:"zh"},{name:"English",code:"en"}]},Sn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return _n.a.changeLanguage(t.payload),Object(De.a)(Object(De.a)({},e),{},{language:t.payload});case D:return Object(De.a)(Object(De.a)({},e),{},{languageList:[].concat(Object(Cn.a)(e.languageList),[t.payload])});default:return e}},Pn={loading:!0,error:null,productList:[]},Tn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ct:return Object(De.a)(Object(De.a)({},e),{},{loading:!0});case It:return Object(De.a)(Object(De.a)({},e),{},{loading:!1,productList:t.payload});case St:return Object(De.a)(Object(De.a)({},e),{},{loading:!1,error:t.payload});default:return e}},Nn=function(e){return function(e){return function(t){e(t)}}},Rn=n(49),zn=n(192),Ln=n(233),Mn={key:"root",storage:n.n(Ln).a,whiteList:["user"]},Dn=Object(Rn.b)({language:Sn,recommendProducts:Tn,productDetail:$t.reducer,searchDetail:dn.reducer,user:Y.reducer,shoppingCart:cn.reducer,order:xn.reducer}),Fn=Object(zn.a)(Mn,Dn),An=Object(B.a)({reducer:Fn,middleware:function(e){return[].concat(Object(Cn.a)(e({serializableCheck:!1})),[Nn])},devTools:!0}),Hn={store:An,persistor:Object(zn.b)(An)},En=n(234);W.a.defaults.headers["x-icode"]="E4B69E96A7B8FDBC",u.a.render(Object(w.jsx)(F.a,{store:Hn.store,children:Object(w.jsx)(En.a,{loading:null,persistor:Hn.persistor,children:Object(w.jsx)(vn,{})})}),document.getElementById("root"))},62:function(e,t,n){e.exports={"user-layout-container":"UserLayout_user-layout-container__xmdtk",header:"UserLayout_header__axaSS",lang:"UserLayout_lang__vAVvz",content:"UserLayout_content__XU14n",top:"UserLayout_top__3_v8C","content-header":"UserLayout_content-header__bqVqd",logo:"UserLayout_logo__qqnAo",title:"UserLayout_title__1zszu",desc:"UserLayout_desc__13IvU",footer:"UserLayout_footer__2arP3"}},66:function(e,t,n){e.exports={"app-header":"Header_app-header__3U82T","top-header":"Header_top-header__1Ua6u",inner:"Header_inner__3b3NM","button-group":"Header_button-group__1Dxrp","main-header":"Header_main-header__OC3nw","App-logo":"Header_App-logo__3z1ki","App-logo-spin":"Header_App-logo-spin__2JzXp",title:"Header_title__3_fub","search-input":"Header_search-input__19kTQ","main-menu":"Header_main-menu__iZfNm"}},95:function(e,t,n){e.exports={"page-content":"DetailPage_page-content__3WcGx","product-intro-container":"DetailPage_product-intro-container__1LVp4","product-detail-anchor":"DetailPage_product-detail-anchor__1-cm0","product-detail-container":"DetailPage_product-detail-container__1mM2i"}}},[[362,1,2]]]);
//# sourceMappingURL=main.cc76886d.chunk.js.map